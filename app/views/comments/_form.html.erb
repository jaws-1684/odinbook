<% model = [local_assigns[:commentable], comment].compact %>


<%= form_with model: model, id: dom_id_form_records(*model),
 data: local_assigns[:data], 
 class: ["ml-4"] + Array.wrap(local_assigns[:class]) do |form| %>

	<% if form.object.errors.any? %>
		<div class="">
			<% form.object.errors.full_messages.each do |message|%>
				<div class="text-red-700"><%= message %></div>
			<% end -%>
		</div>
	<% end -%>

	<div class="form-group flex justify-evenly mb-4">
		<%= form.text_field :body, placeholder: "Leave a comment...", class: "text-xs text-gray-500 rounded-md p-2 w-96 mt-2 mr-2" %>
	<%= button_tag type: "submit", class: "text-gray-500 cursor-pointer hover:text-blue-700" do %>
 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">
  <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"/>
</svg>
<% end %>

	</div>
	
	<% if form.object.persisted? %>
  	<%= link_to "Cancel", comment, class: "text-blue-700 ml-4" %>
	<% end %>
<% end -%>

